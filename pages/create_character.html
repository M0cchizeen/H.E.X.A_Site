<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cria√ß√£o de Personagem</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400;700;900&family=Roboto+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --cyber-black: #000000;
            --cyber-yellow: #FFE500;
            --cyber-blue: #00D4FF;
            --cyber-white: #FFFFFF;
            --cyber-gray: #1A1A1A;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--cyber-black);
            color: var(--cyber-white);
            font-family: 'Orbitron', monospace;
            min-height: 100vh;
            overflow-y: auto;
            position: relative;
            padding: 28px;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(0, 212, 255, 0.03) 2px,
                rgba(0, 212, 255, 0.03) 4px
            );
            pointer-events: none;
            z-index: 1;
        }

        body::after {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    90deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 229, 0, 0.02) 2px,
                    rgba(255, 229, 0, 0.02) 4px
                );
            pointer-events: none;
            z-index: 1;
            animation: scanlines 8s linear infinite;
        }

        @keyframes scanlines {
            0% { transform: translateY(0); }
            100% { transform: translateY(10px); }
        }

        /* SCROLLBAR PERSONALIZADA CYBERPUNK */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--cyber-black);
            border: 2px solid var(--cyber-blue);
            clip-path: polygon(5px 0, 100% 0, calc(100% - 5px) 100%, 0 100%);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--cyber-blue);
            border: 2px solid var(--cyber-yellow);
            clip-path: polygon(3px 0, 100% 0, calc(100% - 3px) 100%, 0 100%);
            transition: all 0.3s;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--cyber-yellow);
            border-color: var(--cyber-blue);
            box-shadow: 0 0 10px rgba(255, 229, 0, 0.5);
        }

        ::-webkit-scrollbar-corner {
            background: var(--cyber-black);
        }

        .sheet-container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--cyber-black);
            padding: 22px;
            border: 3px solid var(--cyber-yellow);
            clip-path: polygon(0 0, calc(100% - 20px) 0, 100% 20px, 100% 100%, 20px 100%, 0 calc(100% - 20px));
            box-shadow: 
                0 0 30px rgba(255, 229, 0, 0.4),
                inset 0 0 30px rgba(0, 212, 255, 0.1);
            position: relative;
            z-index: 2;
        }

        .sheet-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--cyber-yellow), var(--cyber-blue), var(--cyber-yellow));
            animation: glow-pulse 2s ease-in-out infinite;
        }

        @keyframes glow-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        h1 {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--cyber-blue);
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(0, 212, 255, 0.8);
            text-align: center;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        label {
            display: block;
            margin-top: 10px;
            color: var(--cyber-yellow);
            font-weight: 700;
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 1px;
            text-shadow: 0 0 5px rgba(255, 229, 0, 0.5);
        }

        input[type="text"], input[type="number"], textarea, select {
            width: 100%;
            padding: 10px;
            background: var(--cyber-black);
            border: 2px solid var(--cyber-blue);
            color: var(--cyber-white);
            margin-top: 6px;
            font-family: 'Orbitron', monospace;
            clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
            transition: all 0.3s;
        }

        input[type="text"]:focus, input[type="number"]:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--cyber-yellow);
            box-shadow: 0 0 15px rgba(255, 229, 0, 0.3);
        }

        textarea {
            min-height: 80px;
            resize: vertical;
        }

        .two-cols {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .section-title {
            font-family: 'Bebas Neue';
            color: var(--cyber-yellow);
            margin-top: 20px;
            margin-bottom: 12px;
            font-size: 1.5rem;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(255, 229, 0, 0.5);
        }

        .protocols {
            display: grid;
            grid-template-columns: repeat(6, minmax(50px, 1fr));
            gap: 8px;
            margin-top: 10px;
        }

        .protocol-item {
            background: var(--cyber-black);
            padding: 8px;
            border: 2px solid var(--cyber-blue);
            clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
            text-align: center;
            font-size: 0.9rem;
            min-height: 40px;
            transition: all 0.3s;
        }

        .protocol-item:hover {
            border-color: var(--cyber-yellow);
            box-shadow: 0 0 10px rgba(255, 229, 0, 0.3);
        }

        .protocol-item span {
            display: block;
            color: var(--cyber-blue);
            font-weight: 700;
            margin-bottom: 4px;
            font-family: 'Bebas Neue', sans-serif;
        }

        .three-cols {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        @media(max-width: 900px) {
            .three-cols {
                grid-template-columns: 1fr;
            }
        }

        .actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 30px;
        }

        .btn {
            background: var(--cyber-black);
            color: var(--cyber-yellow);
            padding: 12px 24px;
            border: 2px solid var(--cyber-yellow);
            cursor: pointer;
            font-weight: 700;
            font-family: 'Bebas Neue', sans-serif;
            letter-spacing: 1px;
            text-transform: uppercase;
            clip-path: polygon(10px 0, 100% 0, calc(100% - 10px) 100%, 0 100%);
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 229, 0, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 5px 20px rgba(255, 229, 0, 0.6),
                inset 0 0 20px rgba(255, 229, 0, 0.1);
            border-color: var(--cyber-blue);
            color: var(--cyber-blue);
        }

        .btn:active {
            transform: translateY(-1px) scale(1.02);
        }

        /* Estilos para invent√°rio */
        .inventory-header{margin-bottom:15px}
        .items-list{max-height:200px;overflow-y:auto;border:2px solid var(--cyber-blue);padding:12px;background:var(--cyber-black);clip-path: polygon(5px 0, 100% 0, calc(100% - 5px) 100%, 0 100%);}
        .item-card{background:rgba(255, 255, 255, 0.05);border:1px solid var(--cyber-blue);padding:12px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);transition:all 0.3s;}
        .item-card:hover{background:rgba(255, 255, 255, 0.1);border-color:var(--cyber-yellow);transform:translateX(5px);}
        .item-info{flex:1}
        .item-name{font-weight:700;color:var(--cyber-blue);margin-bottom:4px;font-family:'Bebas Neue', sans-serif;letter-spacing:1px;}
        .item-effect{font-size:0.9rem;color:rgba(255, 255, 255, 0.7);margin-bottom:4px}
        .item-details{font-size:0.8rem;color:var(--cyber-yellow)}
        .item-controls{display:flex;gap:8px;margin-left:12px}
        .item-btn{background:var(--cyber-black);border:2px solid var(--cyber-blue);color:var(--cyber-white);padding:6px 12px;cursor:pointer;font-size:0.8rem;font-family:'Bebas Neue', sans-serif;clip-path: polygon(5px 0, 100% 0, calc(100% - 5px) 100%, 0 100%);transition:all 0.3s;}
        .item-btn:hover{background:var(--cyber-blue);color:var(--cyber-black);border-color:var(--cyber-yellow);}
        .item-btn:disabled{background:rgba(255,255,255,0.1);border-color:rgba(255,255,255,0.2);color:rgba(255,255,255,0.4);cursor:not-allowed}
        .empty-items{color:var(--cyber-yellow);text-align:center;padding:20px;font-family:'Bebas Neue', sans-serif;letter-spacing:2px;}

    </style>
</head>
<body>
    <h1>Cria√ß√£o de Personagem</h1>
    <form id="character-form">
        <style>
            .compact-grid{display:grid;grid-template-columns:2fr 1fr;gap:12px;align-items:start}
            .compact-grid .field{display:flex;flex-direction:column}
            .avatar-block{display:flex;gap:12px;align-items:center}
            .mini-stats{display:flex;flex-direction:column;gap:6px}
            .tiny-row{display:flex;gap:12px;align-items:center;margin-top:8px}
            .tiny-row .field{display:flex;flex-direction:column}
            .small-input{max-width:110px}
            .small-input input{width:100%}
            .small-emoji-field{max-width:72px}
            .small-emoji-field input{font-size:1.6rem;text-align:center;padding:6px}
            /* resource row: input sits inside SVG-shaped outline; label below */
            .resources-row{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:8px;align-items:start}
            .resource-item{text-align:center}
            .resource-shape{position:relative;width:100%;max-width:96px;height:84px;margin:0 auto}
            .resource-shape svg{width:100%;height:100%;transform:translateY(6px)}
            .resource-shape.heart-shape{background:rgba(255,229,0,0.03);border:2px solid var(--cyber-yellow);-webkit-clip-path: polygon(50% 30%, 80% 16%, 100% 53%, 50% 100%, 0 53%, 20% 16%);clip-path: polygon(50% 30%, 80% 16%, 100% 53%, 50% 100%, 0 53%, 20% 16%);transform:translateY(6px);transition:all 0.3s;}
            .resource-shape.heart-shape:hover{border-color:var(--cyber-blue);box-shadow:0 0 15px rgba(0,212,255,0.4);}
            .resource-shape input{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:56px;background:transparent;border:none;color:var(--cyber-white);font-size:1.1rem;text-align:center;outline:none;font-family:'Orbitron', monospace;}
            .resource-label{display:block;margin-top:8px;color:var(--cyber-yellow);font-weight:700;font-family:'Bebas Neue', sans-serif;letter-spacing:1px;text-shadow:0 0 5px rgba(255,229,0,0.5);}
            /* protocols more compact */
            .protocols{display:grid;grid-template-columns:repeat(6, minmax(36px,1fr));gap:3px;margin-top:6px}
            .protocol-item{padding:2px;border-radius:6px;font-size:0.88rem}
            #protocol-list input[type=number]{width:100%;text-align:center;font-size:1rem;padding:6px;background:transparent;border:none;color:var(--cyber-white);font-family:'Orbitron', monospace;}
            /* hide all number spinners globally */
            input[type=number]::-webkit-outer-spin-button, input[type=number]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
            input[type=number]{-moz-appearance:textfield}
            @media(max-width:700px){.compact-grid{grid-template-columns:1fr}}
            /* Two column layout for Attributes and Resources */
            .two-column-layout{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-top:16px}
            .two-column-layout h2{margin-top:0}
            @media(max-width:900px){.two-column-layout{grid-template-columns:1fr}}
        </style>

        <div class="compact-grid">
            <div class="field">
                <label for="name">Nome:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="field">
                <label for="archetype">Arqu√©tipo:</label>
                <input type="text" id="archetype" name="archetype" required>
            </div>
            <div class="field">
                <label for="background">Plano de Fundo:</label>
                <input type="text" id="background" name="background" required>
            </div>
            <div class="field">
                <div class="avatar-block">
                    <div class="field small-emoji-field">
                        <label for="avatar">Avatar</label>
                        <input type="text" id="avatar" name="avatar" maxlength="1" placeholder="üôÇ">
                    </div>
                    <div class="mini-stats">
                        <div class="field small-input">
                            <label for="level">N√≠vel:</label>
                            <input type="number" id="level" name="level" min="1" max="20" required>
                        </div>
                        <div class="field small-input">
                            <label for="exp">EXP:</label>
                            <input type="number" id="exp" name="exp" min="0" max="30000" required>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="two-column-layout">
            <div class="left-column">
                <h2>Atributos</h2>
                <style>
                    .attributes-grid {
    display: grid;
    /* Define um tamanho fixo para as colunas em vez de 1fr */
    grid-template-columns: repeat(3, 100px); 
    /* Reduz o espa√ßo entre os hex√°gonos */
    gap: 8px; 
    /* Centraliza a grade inteira no painel */
    justify-content: center; 
    margin-top: 8px;
}
                    .attr-item {
    display: flex;
    flex-direction: column;
    align-items: center; /* Garante que o label e hex fiquem alinhados no eixo vertical */
    text-align: center;
}
                    .attr-hex{width:100px;height:100px;max-width:120px;aspect-ratio:1/1;display:flex;align-items:center;justify-content:center;color:var(--cyber-white);background:linear-gradient(180deg, rgba(255,229,0,0.12), rgba(0,212,255,0.06));-webkit-clip-path:polygon(25% 6.7%,75% 6.7%,100% 50%,75% 93.3%,25% 93.3%,0% 50%);clip-path:polygon(25% 6.7%,75% 6.7%,100% 50%,75% 93.3%,25% 93.3%,0% 50%);border:2px solid var(--cyber-blue);padding:8px;position:relative;transition:all 0.3s;}
                    .attr-hex:hover{border-color:var(--cyber-yellow);box-shadow:0 0 15px rgba(255,229,0,0.4);transform:scale(1.05);}
                    .attr-hex .attr-input{width:60%;font-size:2.2rem;background:transparent;border:none;color:var(--text);text-align:center;outline:none;padding:0;margin:0}
                    .attr-input::-webkit-outer-spin-button,
                    .attr-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
                    .attr-input[type=number]{-moz-appearance:textfield}
                    .attr-label {
    display: block;
    margin-top: 4px;
    font-size: 0.8rem;
    color: var(--cyber-yellow);
    font-weight: 700;
    font-family: 'Bebas Neue', sans-serif;
    letter-spacing: 1px;
    text-shadow: 0 0 5px rgba(255,229,0,0.5);
}
                    @media(max-width:700px){.attributes-grid{grid-template-columns:repeat(2,1fr);}}


                </style>

                <div class="attributes-grid">
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="men" name="men" required></div>
                        <label class="attr-label" for="men">MEN</label>
                    </div>
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="cor" name="cor" required></div>
                        <label class="attr-label" for="cor">COR</label>
                    </div>
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="agi" name="agi" required></div>
                        <label class="attr-label" for="agi">AGI</label>
                    </div>
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="for" name="for" required></div>
                        <label class="attr-label" for="for">FOR</label>
                    </div>
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="cha" name="cha" required></div>
                        <label class="attr-label" for="cha">CHA</label>
                    </div>
                    <div class="attr-item">
                        <div class="attr-hex"><input class="attr-input" type="number" id="con" name="con" required></div>
                        <label class="attr-label" for="con">CON</label>
                    </div>
                </div>
            </div>
            
            <div class="right-column">
                <h2>Recursos</h2>
                <div class="resources-row">
                    <div class="resource-item">
                        <div class="resource-shape">
                            <svg viewBox="0 0 100 84" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                                <!-- stylized straight-line heart made with polygon (no curves) -->
                                <polygon data-shape="hexagon" 
                 points="50,10 72,22 64,44 50,56 36,44 28,22" stroke="var(--cyber-yellow)" stroke-width="2" fill="rgba(255,229,0,0.03)"/>
                            </svg>
                            <input type="number" id="vitalidade" name="vitalidade" required>
                        </div>
                        <label class="resource-label" for="vitalidade">Vitalidade</label>
                    </div>
                    <div class="resource-item">
                        <div class="resource-shape">
                            <svg viewBox="0 0 100 84" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                                <!-- chip-like square with inner lines -->
                                <rect x="10" y="14" width="80" height="56" rx="6" stroke="var(--cyber-blue)" stroke-width="2" fill="rgba(0,212,255,0.03)"/>
                                <rect x="24" y="28" width="52" height="28" rx="3" stroke="var(--cyber-blue)" stroke-width="1" fill="none"/>
                                <line x1="34" y1="36" x2="34" y2="52" stroke="var(--cyber-blue)" stroke-width="1"/>
                                <line x1="66" y1="36" x2="66" y2="52" stroke="var(--cyber-blue)" stroke-width="1"/>
                            </svg>
                            <input type="number" id="carga-operacional" name="carga-operacional" required>
                        </div>
                        <label class="resource-label" for="carga-operacional">Carga Operacional</label>
                    </div>
                    <div class="resource-item">
                        <div class="resource-shape">
                            <svg viewBox="0 0 100 84" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                                <!-- shield built with straight segments -->
                                <polygon points="50,6 80,20 80,44 50,72 20,44 20,20" stroke="var(--cyber-blue)" stroke-width="2" fill="rgba(0,212,255,0.03)"/>
                            </svg>
                            <input type="number" id="defesa" name="defesa" required>
                        </div>
                        <label class="resource-label" for="defesa">Defesa</label>
                    </div>
                </div>
            </div>
        </div>

        <h2 class="section-title">Protocolos</h2>
        <div id="protocol-list" class="protocols">
            <!-- inputs ser√£o gerados por JavaScript (0-3) -->
        </div>

        <div class="three-cols">
            <div>
                <label class="section-title" for="implantes">Implantes</label>
                <textarea id="implantes" name="implantes" placeholder="Listagem de Implantes"></textarea>
            </div>
            <div>
                <label class="section-title" for="inventario">Invent√°rio</label>
                <div id="inventory-container">
                    <div class="inventory-header">
                        <button type="button" class="btn" onclick="openAddItemModal()" style="font-size:0.9rem; padding:6px 12px;">
                            <i class="fas fa-plus"></i> ADICIONAR ITEM
                        </button>
                    </div>
                    <div id="items-list" class="items-list">
                        <!-- Itens ser√£o adicionados dinamicamente aqui -->
                    </div>
                    <textarea id="inventario" name="inventario" style="display:none;" placeholder="Itens do Invent√°rio"></textarea>
                </div>
            </div>
            <div>
                <label class="section-title" for="habilidades">Habilidades de Arqu√©tipo</label>
                <textarea id="habilidades" name="habilidades" placeholder="Descri√ß√£o das Habilidades"></textarea>
            </div>
        </div>

        <div class="actions">
            <button class="btn" type="submit">Salvar Personagem</button>
        </div>
    </form>

    <script src="character_sheet/js/app.js"></script>
</body>
</html>